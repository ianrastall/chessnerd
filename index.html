<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XQ7B0Z9FK3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XQ7B0Z9FK3');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Nerd</title>
    <script>
      (function() {
        try {
          var storedTheme = localStorage.getItem('theme');
          var theme = storedTheme === 'light' ? 'light' : 'dark';
          document.documentElement.setAttribute('data-theme', theme);

          var storedAccent = localStorage.getItem('accentColor');
          if (!storedAccent || !/^#[0-9a-fA-F]{6}$/.test(storedAccent)) {
            return;
          }

          var normalized = storedAccent.toLowerCase();
          document.documentElement.style.setProperty('--accent', normalized);

          var parsed = parseInt(normalized.slice(1), 16);
          var red = (parsed >> 16) & 255;
          var green = (parsed >> 8) & 255;
          var blue = parsed & 255;
          document.documentElement.style.setProperty('--accent-rgb', red + ', ' + green + ', ' + blue);

          var boost = 20;
          var redLight = Math.min(Math.max(0, red + boost), 255);
          var greenLight = Math.min(Math.max(0, green + boost), 255);
          var blueLight = Math.min(Math.max(0, blue + boost), 255);
          var accentLight = '#' + ((redLight << 16) | (greenLight << 8) | blueLight).toString(16).padStart(6, '0');
          document.documentElement.style.setProperty('--accent-light', accentLight);
        } catch (error) {
          // Ignore storage access errors.
        }
      })();
    </script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <a href="index.html" style="color: inherit; text-decoration: none;">
                    <span>Chess Nerd</span>
                </a>
            </div>
            <nav class="site-network" aria-label="Network sites">
                <a href="https://text-utils.net" class="site-network-link" target="_blank" rel="noopener noreferrer">
                    <img src="img/text-utils-icon.png" class="site-network-icon" alt="" width="16" height="16">
                    <span>Text Utilities</span>
                    <span class="material-icons" aria-hidden="true">open_in_new</span>
                </a>
                <a href="https://github.com/ianrastall/chessnerd" class="site-network-link" target="_blank" rel="noopener noreferrer">
                    <img src="img/github.png" class="site-network-icon" alt="" width="16" height="16">
                    <span>GitHub</span>
                    <span class="material-icons" aria-hidden="true">open_in_new</span>
                </a>
            </nav>
            <div class="controls">
                <div class="accent-selector">
                    <label for="accentColor" class="visually-hidden">Accent color</label>
                    <span class="material-icons" aria-hidden="true">palette</span>
                    <select id="accentColor" class="color-dropdown" aria-label="Accent color"></select>
                </div>
                <button id="themeToggle" class="btn btn-secondary" type="button" aria-label="Toggle theme" aria-pressed="true">
                    <span class="material-icons" aria-hidden="true">dark_mode</span>
                </button>
            </div>
        </header>

        <main>
            <div id="homeView">
                <div class="tool-grid" id="toolGrid"></div>
            </div>
        </main>

        <footer class="site-footer">
            <p>&copy; Ian Rastall 2025<br>Contact: moving.form.of.dust@gmail.com<br>Donate: PayPal to merastall@gmail.com</p>
        </footer>
    </div>

    <script src="js/theme.js"></script>
    <script>
        const tools = [
            { 
                id: 'ccc-archive', 
                name: 'CCC Archive', 
                icon: 'folder_zip', 
                category: 'data', 
                description: 'Computer Chess Championship event PGNs with dates and direct ZIP links.' 
            },
            { 
                id: 'chesscom-api', 
                name: 'Chess.com API', 
                icon: 'api', 
                category: 'data', 
                description: 'Full text reference of the Chess.com Published-Data API documentation.' 
            },
            { 
                id: 'titled-players', 
                name: 'Chess.com Titled Players', 
                icon: 'groups', 
                category: 'data', 
                description: 'Filter and search over 15,000 titled players by Elo and Country.' 
            },
            { 
                id: 'eco-code', 
                name: 'ECO Codes', 
                icon: 'menu_book', 
                category: 'reference', 
                description: 'Browse the Encyclopedia of Chess Openings (ECO) codes hierarchically.' 
            },
            { 
                id: 'engines', 
                name: 'Engine Database', 
                icon: 'memory', 
                category: 'reference', 
                description: 'Searchable database of chess engines, languages, and release dates.' 
            },
            { 
                id: 'play-engine', 
                name: 'Engine Game', 
                icon: 'smart_toy', 
                category: 'analysis', 
                description: 'Interactive board to play against the Lozza engine.' 
            },
            { 
                id: 'fide-2200', 
                name: 'FIDE 2200+ Players', 
                icon: 'groups', 
                category: 'data', 
                description: 'Browse FIDE-rated players (Standard/Rapid/Blitz â‰¥ 2200) with filters and search.' 
            },
            { 
                id: 'pgn-downloads', 
                name: 'PGN Downloads', 
                icon: 'cloud_download', 
                category: 'data', 
                description: 'Download collections of master games and opening libraries in PGN format.' 
            },
            { 
                id: 'pgn-info', 
                name: 'PGN Info', 
                icon: 'analytics', 
                category: 'analysis', 
                description: 'Analyze an uploaded PGN file to view metadata and statistics.' 
            },
            { 
                id: 'software', 
                name: 'Software Catalog', 
                icon: 'inventory_2', 
                category: 'reference', 
                description: "Full-width table of chess software I've created with download and repo links." 
            },
            { 
                id: 'stockfish-commits', 
                name: 'Stockfish Commits', 
                icon: 'history', 
                category: 'reference', 
                description: "List of Stockfish commits going back to the beginning, with URLs to binaries and source files." 
            },
			{
				id: 'titled-tuesday-archive',
				name: 'Titled Tuesday Archive',
				icon: 'event',
				category: 'data',
				description: 'Downloaded from Chesscom, renamed and organized.'
			},
            { 
                id: 'tournaments', 
                name: 'Tournament Archive', 
                icon: 'emoji_events', 
                category: 'data', 
                description: 'Download curated tournament PGNs with calculated FIDE categories.' 
            }
        ];

        const toolGrid = document.getElementById('toolGrid');

        function renderToolGrid() {
            toolGrid.innerHTML = '';
            
            tools.forEach(tool => {
                const card = document.createElement('a');
                card.className = 'tool-card';
                card.href = `${tool.id}.html`;
                
                card.innerHTML = `
                    <div class="tool-icon">
                        <span class="material-icons">${tool.icon}</span>
                    </div>
                    <h3>${tool.name}</h3>
                    <p>${tool.description}</p>
                `;
                toolGrid.appendChild(card);
            });
        }

        // Initialize
        renderToolGrid();
    </script>
</body>
</html>
